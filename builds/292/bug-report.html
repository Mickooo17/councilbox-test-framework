<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bug Report - should create a new template and verify it appears in the list @smoke @regression</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white min-h-screen p-8">

    <div class="max-w-5xl mx-auto">
        <div class="bg-slate-800/60 backdrop-blur-lg shadow-2xl rounded-2xl p-10 border border-slate-700">
            
            <h1 class="text-4xl font-bold mb-4 text-red-400">üêû should create a new template and verify it appears in the list @smoke @regression</h1>
            <p class="text-slate-300 text-lg mb-8">The test failed because an assertion expected to find the text '<span class="text-cyan-300">test something just to test :D</span>' within the table body (<code>tbody</code>), but the received content from the locator was '<span class="text-cyan-300">Automation Template 96387915 Jan 26and 185 morePost-appointment instructionsActivated</span>'. This indicates that the expected string in the assertion is incorrect.</p>

            <div class="grid grid-cols-2 gap-6 mb-10">
                <div class="bg-slate-900/60 p-6 rounded-xl border border-slate-700">
                    <h2 class="text-xl font-semibold text-blue-400 mb-3">Environment</h2>
                    <p><strong>Build:</strong> #292</p>
                    <p><strong>Environment:</strong> staging</p>
                    <p><strong>Failed Step:</strong> Expect 'toContainText'</p>
                </div>

                <div class="bg-slate-900/60 p-6 rounded-xl border border-slate-700">
                    <h2 class="text-xl font-semibold text-green-400 mb-3">Links</h2>
                    <p>
                        <a href="https://Mickooo17.github.io/councilbox-test-framework/builds/292/" class="text-blue-400 hover:text-blue-300 underline">üìÇ Open Allure Report</a>
                    </p>
                </div>
            </div>

            <h2 class="text-2xl font-semibold text-purple-400 mb-4">Steps to Reproduce</h2>
            <ol class="list-decimal list-inside space-y-2 text-slate-300 mb-10">
                <li>Before Hooks</li>
                <li>Wait for selector <span class="text-cyan-300">locator('#add-procedure-button')</span></li>
                <li>Click <span class="text-cyan-300">locator('#add-procedure-button')</span></li>
                <li>Fill '<span class="text-cyan-300">Automation Template 963879</span>' <span class="text-cyan-300">getByRole('textbox', { name: 'Input' })</span></li>
                <li>Fill '<span class="text-cyan-300">Automation Content w9DrvwtAGzjIXz9heLV4wUtxbiCWmhbEwkorZpZG9NytUTcDRd48dfaIalqd</span>' <span class="text-cyan-300">locator('#draft-editor-text div').nth(2)</span></li>
                <li>Wait for selector <span class="text-cyan-300">getByText('Post-appointment instructions', { exact: true })</span></li>
                <li>Click <span class="text-cyan-300">getByText('Post-appointment instructions', { exact: true })</span></li>
                <li>Click <span class="text-cyan-300">getByRole('button', { name: ' Create' })</span></li>
                <li>Expect '<span class="text-cyan-300">toContainText</span>'</li>
                <li>Fill '<span class="text-cyan-300">Automation Template 963879</span>' <span class="text-cyan-300">getByRole('textbox', { name: 'Search templates' })</span></li>
                <li>Expect '<span class="text-cyan-300">toContainText</span>' <span class="text-red-400">[FAILED]</span></li>
                <li>screenshot</li>
                <li>screenshot</li>
                <li>video</li>
                <li>error-context</li>
                <li>trace</li>
                <li>After Hooks</li>
            </ol>

            <div class="grid grid-cols-2 gap-6 mb-10">
                <div class="bg-green-900/30 p-6 rounded-xl border border-green-700">
                    <h3 class="text-xl font-semibold text-green-400 mb-3">Expected Behavior</h3>
                    <code class="block bg-black/50 p-4 rounded-lg text-green-300 overflow-auto max-h-40">
                        Expected string: 'test something just to test :D'
                    </code>
                </div>

                <div class="bg-red-900/30 p-6 rounded-xl border border-red-700">
                    <h3 class="text-xl font-semibold text-red-400 mb-3">Actual Result (Error)</h3>
                    <code class="block bg-black/50 p-4 rounded-lg text-red-300 overflow-auto max-h-40">
                        Error: expect(locator).toContainText(expected) failed

Locator: locator('tbody')
Expected string: 'test something just to test :D'
Received string: 'Automation Template 96387915 Jan 26and 185 morePost-appointment instructionsActivated'
Timeout: 5000ms

Call log:
  - Expect 'toContainText' with timeout 5000ms
  - waiting for locator('tbody')
    2 √É‚Äî locator resolved to &lt;tbody class='cbx-table-tbody yxcm-cbx-table-tbody'&gt;&acirc;&#128;&brvbar;&lt;/tbody&gt;
      - unexpected value '13 02 202615 Jan 26and 185 moreNotificationActivated20 Jan 2619 juni free freeeeConclusionActivatedALL Intro19 juni free freeeeand 180 moreIntroductionand 1 moreActivatedALL NotificationALL in ONENotification headerActivatedAutomation Template 96387915 Jan 26and 185 morePost-appointment instructionsActivateddrugi maj1 app dayyaa 1 app dayyaaand 147 moreConsentsActivateddzenan 3 feb 20251time 1h 2hand 142 more-Activateddzenan test1 app dayyaa 1 app dayyaaand 147 more-Activatedkr19 juni free freeeeand 172 more-Activatednew template 27.12.2023Autoliquidaci√É¬≥n del impuesto sobre veh√É¬≠culos de tracci√É¬≥n mec√É¬°nica-Activatednew template qa may 14--Activatednew template test something just to test hahaha new template test something just to test hahaha new template test something just to test hahaha new template test something just to test hahaha--ActivatedNOT Armija Rame Isaka - VIDEONotificationActivatedNotification15 Jan 26and 185 moreDescription of the procedure or appointmentActivatedPlantilla para notificaci√É¬≥n al participante15 Jan 26and 185 moreNotificationActivatedpruebaALL in ONE-ActivatedPrueba tr√É¬°mite26.9 PROCESSand 128 moreNotificationand 1 moreActivated   qa ALL Foot DVA INPERSONand 92 more-ActivatedqaALL in ONEand 89 moreNotification headerActivatedqararadada1time 1h 2hand 142 more-Activatedqa test1time 1h 2hand 138 moreConclusionActivatedqa test 22 mayALL Foot DVA INPERSONand 102 more-Activatedsdadsadas1 app dayyaa 1 app dayyaaand 147 more-Activatedtemplate new oct 23 oct 23Armija Rame Isaka - VIDEONotificationActivatedtest 1time 1h 2hand 138 moreConclusionActivated'
    7 √É‚Äî locator resolved to &lt;tbody class='cbx-table-tbody yxcm-cbx-table-tbody'&gt;&acirc;&#128;&brvbar;&lt;/tbody&gt;
      - unexpected value 'Automation Template 96387915 Jan 26and 185 morePost-appointment instructionsActivated'
                    </code>
                </div>
            </div>

            <h2 class="text-2xl font-semibold text-orange-400 mb-4">AI Analysis (Root Cause)</h2>
            <div class="bg-slate-900/60 p-6 rounded-xl border border-slate-700 mb-10">
                <p class="text-slate-300">
                    The test "should create a new template and verify it appears in the list" failed primarily due to an incorrect expected string in the final assertion.
                    <br/><br/>
                    1.  <strong>Test Objective Mismatch:</strong> The test steps indicate that a template named "Automation Template 963879" is successfully created and then searched for using the template's name. The logical next step for verification would be to assert the presence of "Automation Template 963879" in the displayed results.
                    <br/><br/>
                    2.  <strong>Incorrect Expected String:</strong> The failing assertion <code>expect(locator('tbody')).toContainText(expected)</code> explicitly expected to find the string <code>'test something just to test :D'</code>. This string does not align with the name of the template created earlier in the test (`Automation Template 963879`).
                    <br/><br/>
                    3.  <strong>Actual Content Confirmation:</strong> The <code>Received string</code> from the <code>tbody</code> was <code>'Automation Template 96387915 Jan 26and 185 morePost-appointment instructionsActivated'</code>. This demonstrates that the newly created template <em>was</em> present within the `tbody` at the time of the assertion.
                    <br/><br/>
                    <strong>Conclusion:</strong> The test failure is attributed to a bug in the test script itself, where the <code>expected</code> value in the <code>toContainText</code> assertion was hardcoded incorrectly to <code>'test something just to test :D'</code>. It should instead verify the presence of the actually created template name, <code>'Automation Template 963879'</code>. The application functionality (template creation and display in the table) appears to be working as intended based on the received content, but the test's verification step is flawed. The "There are no results for your search" message in the ARIA snapshot might be a transient UI state or refer to a separate element, but the direct assertion error clearly points to an incorrect expected string.
                </p>
            </div>

            <div class="mt-12 text-center text-slate-500 text-sm">
                Generated by AI Reporter ‚ö°
            </div>

        </div>
    </div>
</body>
</html>